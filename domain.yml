version: '3.1'
entities:
- doctor_name
- speciality
- confirm
- date
- appointment_ID
- confirm_cancellation
- time
- department
- symptom
- patient_relation
- facility
- doctor_available
intents:
- add_booking_initial
- affirm
- asking_hospital_location
- bot_challenge
- cancel_appointment
- check_available_dates_given_doctor
- check_available_doctors_given_date
- check_available_doctors_given_speciality
- check_doctor_availability
- confirm_appointment_cancellation
- confirm_booking
- deny
- give_appointment_ID
- goodbye
- greet
- mood_great
- mood_unhappy
- provide_date
- provide_doctor_name
- restart_chat
forms:
  doctor_name_date_form:
    required_slots:
    - doctor_name
    - date
  doctor_booking_confirm_form:
    required_slots:
    - confirm
  appointment_ID_form:
    required_slots:
    - appointment_ID
slots:
  doctor_name:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: doctor_name_date_form
        requested_slot: doctor_name
  date:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: doctor_name_date_form
        requested_slot: date
  confirm:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: doctor_booking_confirm_form
        requested_slot: confirm
  appointment_ID:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: appointment_ID_form
        requested_slot: appointment_ID
responses:
  utter_greet:
  - text: "ආයුබෝවන්! ඔබට දැනගත යුතු යමක් තිබේද?"
#  utter_cheer_up:
#  - text: 'Here is something to cheer you up:'
#    image: https://i.imgur.com/nGF1K8f.jpg
#  utter_did_that_help:
#  - text: Did that help you?
  utter_happy:
  - text: මට තව විස්තර කියන්න
  utter_goodbye:
  - text: නැවත හමුවෙමු
  utter_iamabot:
  - text: මම රොබෝ කෙනෙක්
  utter_slots_values:
  - text: වෛද්‍ය {doctor_name}, {day} දින පරීක්ෂා කරමින්!
  utter_hospital_location:
  - text: මෙඩිකෙයා රෝහල, කොළඹ 7, ශ්‍රී ලංකාව
  utter_ask_appointment_details:
  - text: ඔබට හමුවීම් අංකය මට කියන්න පුළුවන්ද?
  utter_cancellation:
  - text: ඔබට ඇත්තටම ID={appointment_ID} හමුවීම් වෙන්කරවා ගැනීම අවලංගු කිරීමට අවශ්‍යද! ඔව් නම්, 'ඔව් මම හමුවීම් අවලංගු කිරීම තහවුරු කරමි' ටයිප් කරන්න
  utter_ask_doctor_name:
  - text: ඔබට හමුවීමට අවශ්‍ය වෛද්‍යවරයාගේ නම කුමක්ද?
  utter_ask_date:
  - text: ඔබට වෛද්‍යවරයා හමුවීමට අවශ්‍ය දිනය කුමක්ද?
  utter_submit:
  - text: ස්තුතියි!
  utter_thank:
  - text: සුභ දිනයක් වේවා!
  utter_restart:
  - text: ආයුබෝවන්! මම ඔබට උදව් කරන්නේ කෙසේ ද?
actions:
  - utter_greet
  - action_check_doctor_availability
  - action_book_doctor
  - action_restart_with_thank
  - action_check_available_doctors_given_speciality
  - action_get_doctors_available_onDate
  - utter_cancellation
  - action_cancel_appointment
  - utter_ask_appointment_details
  - action_get_dates_available_given_Name
  - utter_list_hospital_services
  - action_restart
  - utter_restart
  - action_restart_without_message
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
